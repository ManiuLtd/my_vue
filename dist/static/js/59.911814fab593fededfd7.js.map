{"version":3,"sources":["webpack:///src/page/Login.vue","webpack:///./src/page/Login.vue?03fc","webpack:///./src/page/Login.vue"],"names":["Login","data","username","password","aAddTime","methods","getUsername","value","this","getPassWord","login","_this","loading","loading_loading","show","_username","_password","$post","API","then","response","code","cur_user","close","loginSuccess","Toast","error","userInfo","fileHost","is_ident","partner","partnerStatus","partnerName","localStorageUtils","LocalStorageUtils","setStore","$router","replace","destroyed","eventBus","$emit","name","time","components","EditText","PasswordText","page_Login","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","input-hint","input-type","on","sendInputContent","to","src","__webpack_require__","click","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/59.911814fab593fededfd7.js","sourcesContent":["<template>\n  <div>\n    <div class=\"login\">\n      <div class=\"title\">\n        <p>登录</p>\n        <p>欢迎来到青松云商</p>\n      </div>\n      <div class=\"inpt phone\">\n        <edit-text input-hint=\"请输入手机号\" input-type=\"number\" v-on:sendInputContent=\"getUsername\"></edit-text>\n      </div>\n      <div class=\"inpt pwd\">\n        <password-text input-hint=\"请输入密码\" class=\"input_password\" v-on:sendInputContent=\"getPassWord\"></password-text>\n      </div>\n      <router-link to=\"/forgetPwd\">\n        <p class=\"text_right\">忘记密码？</p>\n      </router-link>\n    </div>\n    <div class=\"img_btn\">\n      <img src=\"../assets/images/register_success.png\" />\n      <span v-on:click=\"login()\">登录</span>\n    </div>\n    <router-link to=\"/register\">\n      <span class=\"register\">注册</span>\n    </router-link>\n  </div>\n</template>\n\n<script>\n  import * as API from '../service/API';\n  import LocalStorageUtils from '../utils/LocalStorageUtils';\n  import Toast from '../widget/Toast';\n  import EditText from '../components/common/EditText'\n  import PasswordText from '../components/common/PasswordText'\n  import Loading from '../widget/loading/loading'\n  import eventBus from  '../utils/eventBus'\n\n  export default {\n    data(){\n      return{\n        username:'',\n        password:'',\n        aAddTime:''\n      }\n    },\n    methods:{\n      getUsername(value){\n        this.username = value;\n      },\n      getPassWord(value){\n        this.password = value;\n      },\n      login(){\n        if(!this.username){\n          new Toast(\"请输入手机号\").show();\n          return;\n        }\n        if(!this.password){\n          new Toast(\"请输入密码\").show();\n          return;\n        }\n        let loading = new Loading('正在登录 ...');\n        loading.show();\n        let data = {};\n        data._username = this.username;\n        data._password = this.password;\n        this.$post(API.LOGIN,data).then((response)=>{\n          if(response.code == 500){\n            new Toast(response.error).show();\n            return;\n          }\n          this.aAddTime = response.cur_user.aAddTime;\n          loading.close();\n          this.loginSuccess(response);\n        }).then((error)=>{loading.close();})\n      },\n      loginSuccess(data){\n        let cur_user = data.cur_user;\n        let userInfo = data.userInfo;\n        let fileHost = data.fileHost;\n        let is_ident = data.is_ident; // 是否认证  无认证跳到认证页面\n        if(true == is_ident){\n          let partner = data.partner;\n          if(partner){\n            //审核状态【1.未申请 2.待审核 3.打回 4.拒绝 5.通过】，审核通过后启用\n            let partnerStatus = partner.partnerStatus;\n            if(5 == partnerStatus){\n              let partnerName = partner.partnerName;\n              if(partnerName){\n                let localStorageUtils = new LocalStorageUtils();\n                localStorageUtils.setStore('cur_user',cur_user);\n                localStorageUtils.setStore('userInfo',userInfo);\n                localStorageUtils.setStore('fileHost',fileHost);\n                this.$router.replace('/main');\n              }else {\n                this.$router.replace('./reviewSuccess');\n              }\n            }else if(2 == partnerStatus){\n              this.$router.replace('./reviewProcessing');\n            }else if(3 == partnerStatus || 4 == partnerStatus){\n              this.$router.replace('./reviewFailure');\n            }\n          }else{\n            this.$router.replace('./reviewSuccess');\n          }\n        }else {\n          this.$router.replace('/loginSuccess');\n        }\n      }\n    },\n    destroyed(){\n      eventBus.$emit('info',{name: this.username,time:this.aAddTime});\n    },\n    components:{\n      EditText,PasswordText\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../style/login\";\n  .input_password{\n    margin-right: 0.8rem;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"login\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"inpt phone\"},[_c('edit-text',{attrs:{\"input-hint\":\"请输入手机号\",\"input-type\":\"number\"},on:{\"sendInputContent\":_vm.getUsername}})],1),_vm._v(\" \"),_c('div',{staticClass:\"inpt pwd\"},[_c('password-text',{staticClass:\"input_password\",attrs:{\"input-hint\":\"请输入密码\"},on:{\"sendInputContent\":_vm.getPassWord}})],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/forgetPwd\"}},[_c('p',{staticClass:\"text_right\"},[_vm._v(\"忘记密码？\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"img_btn\"},[_c('img',{attrs:{\"src\":require(\"../assets/images/register_success.png\")}}),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.login()}}},[_vm._v(\"登录\")])]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_c('span',{staticClass:\"register\"},[_vm._v(\"注册\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('p',[_vm._v(\"登录\")]),_vm._v(\" \"),_c('p',[_vm._v(\"欢迎来到青松云商\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-032a4534\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-032a4534\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-032a4534\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-032a4534\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}